var t=Object.defineProperty,e=(e,a,s)=>(((e,a,s)=>{a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s})(e,"symbol"!=typeof a?a+"":a,s),s);import{p as a}from"./phaser-cxBNu8M8.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const a of t)if("childList"===a.type)for(const t of a.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const s=class t{static isFps60(){return t.fps.fps60}static isAllowUpdate(){return t.fps.allowUpdate}static isGameOver(){return t.gameOver}static getScaleGame(){return t.scaleGame}static isPausaInicial(){return t.pausa.inicial}static isPacmanDies(){return t.pausa.pacmanDies}static isPausaComeFantasma(){return t.pausa.comeFantasma}static isNivelSuperado(){return t.pausa.nivelSuperado}static getPuntos(){return t.puntos}static getNivel(){return t.nivel}static getRecord(){return t.hi}static getVidas(){return t.vidas}static getTxtScore(){return t.txtScore}static getInvisible(){return t.pacman.invisible}static isFantasmasScary(){return t.fantasmasScary.activo}static isFantasmasIntermitente(){return t.fantasmasScary.intermitente}static getFantasmasScaryDuracion(){return t.fantasmasScary.duracion}static getFantasmasBonusInc(){return t.fantasmasBonusInc}static getCerezasIniXY(){return t.cerezasIniXY}static getBonusCerezas(){return t.bonusCerezas}static getCameraControles(){return t.cameraControles}static getCameraScores(){return t.cameraScores}static setFps60(e){t.fps.fps60=e}static setAllowUpdate(e){t.fps.allowUpdate=e}static setNivelSuperado(e){t.pausa.nivelSuperado=e}static setGameOver(e){t.gameOver=e}static setScaleGame(e){t.scaleGame=e}static setPausaInicial(e){t.pausa.inicial=e}static isPacmanDies(e){t.pausa.pacmanDies=e}static isPausaComeFantasma(e){t.pausa.comeFantasma=e}static isNivelSuperado(e){t.pausa.nivelSuperado=e}static setPuntos(e){t.puntos=e}static setNivel(e){t.nivel=e}static setRecord(e){t.hi=e}static setVidas(e){t.vidas=e}static setFantasmasScary(e){t.fantasmasScary.activo=e}static setFantasmasIntermitente(e){t.fantasmasScary.intermitente=e}static setFantasmasScaryDuracion(e){t.fantasmasScary.duracion=e}static setFantasmasBonusInc(e){t.fantasmasBonusInc.contador=e}};e(s,"controlElegido",{mobile:!1,keyboard:!0}),e(s,"screen",{width:864,height:704,escBoundsX:1.45,escBoundsY:1.6}),e(s,"tileXY",{x:16,y:16}),e(s,"scaleGame",4),e(s,"fps",{fps60:!0,allowUpdate:!0}),e(s,"puntos",0),e(s,"nivel",1),e(s,"hi",12e3),e(s,"vidas",3),e(s,"gameOver",!1),e(s,"txtScore","Score: "),e(s,"pausa",{inicial:{activa:!1,duracion:4300},pacmanDies:{activa:!1,duracion:3100},comeFantasma:{activa:!1,duracion:500},nivelSuperado:{activa:!1,duracion:3e3}}),e(s,"pacman",{iniX:9,iniY:4,vel:4,velocity:100,invisible:!1,direccion:{left:[-1,0,180,"left"],right:[1,0,0,"right"],up:[0,-1,270,"up"],down:[0,1,90,"down"]},arrayAcumDir:[],maxArrayAcumDir:50}),e(s,"pacmanPregame",{iniX:-4,iniY:2,vel:4}),e(s,"fantasmasIniXY",{azul:[4,8],rojo:[8,8],verde:[12,8],pink:[16,8]}),e(s,"fantasmasScary",{activo:!1,duracion:9e3,intermitente:!1}),e(s,"fantasmasBonusInc",{puntos:[200,400,800,1600],color:["#f91","#f61","#f41","#f21"],contador:0,duracion:3200}),e(s,"cerezasIniXY",[9,8]),e(s,"bonusCerezas",[300,300,500,800,1e3,2e3,3e3,5e3,5e3,5e3,5e3,5e3,5e3,5e3,5e3]),e(s,"coorCruceta",{xx:60,yy:1400,sizeX:2.5,sizeY:2.1}),e(s,"cameraControles",{x:0,y:300,ancho:800,alto:290,scrollX:0,scrollY:1250}),e(s,"cameraScores",{x:0,y:0,ancho:s.screen.width,alto:34,scrollX:0,scrollY:-90}),e(s,"depth",{fondo:0,puntitos:100,pared:200,item:300,jugador:400,fantasmas:500,efectos:600,marcadores:700,controles:800,textos:900}),e(s,"audio",{numKey:null,key:null});let o=s;class i{constructor(t,e){this.relatedScene=t,this.datos=e}create(){const{x:t,y:e,txt:a,size:s,color:o,style:i,stroke:r,sizeStroke:n,shadowOsx:c,shadowOsy:l,shadowColor:d,bool1:h,bool2:g,origin:u,elastic:m,dura:p}=this.datos;this.texto=this.relatedScene.add.text(t,e,a,{fontSize:s+"px",fill:o,fontFamily:"verdana, arial, sans-serif",fontStyle:i}),this.texto.setOrigin(u[0],u[1]),this.texto.setStroke(r,n),this.texto.setShadow(c,l,d,2,h,g),this.elastic(a,m,p),console.log(this.texto)}elastic(t,e,a){a>0&&this.relatedScene.tweens.add({targets:this.texto,y:e,ease:"Elastic",duration:a})}get(){return this.texto}}class r extends a.Scene{constructor(){super("Boot")}init(){this.txt=new i(this,{x:Math.floor(this.sys.game.config.width/2),y:Math.floor(this.sys.game.config.height/2),txt:" Touch screen or \n \n click to start... ",size:60,color:"#ffa",style:"bold",stroke:"#fb1",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:!1,dura:0})}preload(){this.load.image("fondo","assets/img/bg.png")}create(){this.add.image(0,0,"fondo").setOrigin(0,0),this.txt.create(),this.input.on("pointerdown",(()=>this.scene.start("Preloader"))),console.log(this.txt)}}class n{constructor(t,e){this.relatedScene=t,this.datos=e}create(){const{x:t,y:e,size:a,txt:s,color:i,strokeColor:r,id:n}=this.datos;let c="";0===n&&(c=`${s}${o.getPuntos()}`),1===n&&(c=`${s}${o.getNivel()}`),2===n&&(c=`${s}${o.getRecord()}`),this.marcador=this.relatedScene.add.text(t,e,c,{fontSize:a+"px",fill:i,fontFamily:"verdana, arial, sans-serif",fontStyle:"bold"}),this.marcador.setStroke(r,16).setShadow(2,2,"#111111",2,!1,!0),console.log(this.marcador)}update(t,e){this.marcador.setText(`${t}${e}`)}get(){return this.marcador}}class c{}e(c,"array_levels",[[[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],[9,1,1,1,1,1,1,1,1,9,1,1,1,1,1,1,1,1,9],[9,1,9,9,1,9,9,9,1,9,1,9,9,9,1,9,9,1,9],[9,1,9,9,1,9,9,9,1,9,1,9,9,9,1,9,9,1,9],[9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9],[9,1,9,9,1,9,1,9,9,9,9,9,1,9,1,9,9,1,9],[9,1,1,1,1,9,1,1,1,9,1,1,1,9,1,1,1,1,9],[9,9,9,9,1,9,9,9,1,9,1,9,9,9,1,9,9,9,9],[9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9],[9,1,9,9,1,9,1,9,1,9,1,9,1,9,1,9,9,1,9],[9,1,9,9,1,9,1,9,1,9,1,9,1,9,1,9,9,1,9],[9,1,1,1,1,9,1,1,1,1,1,1,1,9,1,1,1,1,9],[9,1,9,9,1,9,1,9,9,9,9,9,1,9,1,9,9,1,9],[9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9]],[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,18,18,18,18,18,18,18,18,1,18,18,18,18,18,18,18,18,1],[1,18,1,1,18,1,1,1,18,1,18,1,1,1,18,1,1,18,1],[1,18,1,1,18,1,1,1,18,1,18,1,1,1,18,1,1,18,1],[1,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,1],[1,18,1,1,18,1,18,1,1,1,1,1,18,1,18,1,1,18,1],[1,18,18,18,18,1,18,18,18,1,18,18,18,1,18,18,18,18,1],[1,1,1,1,18,1,1,1,18,1,18,1,1,1,18,1,1,1,1],[18,18,18,1,18,1,18,18,18,18,18,18,18,1,18,1,18,18,18],[1,1,1,1,18,1,18,1,1,18,1,1,18,1,18,1,1,1,1],[18,18,18,18,18,18,18,1,18,18,18,1,18,18,18,18,18,18,18],[1,1,1,1,18,1,18,1,1,1,1,1,18,1,18,1,1,1,1],[18,18,18,1,18,1,18,18,18,18,18,18,18,1,18,1,18,18,18],[1,1,1,1,18,1,18,1,1,1,1,1,18,1,18,1,1,1,1],[1,18,18,18,18,18,18,18,18,1,18,18,18,18,18,18,18,18,1],[1,18,1,1,18,1,1,1,18,1,18,1,1,1,18,1,1,18,1],[1,18,18,1,18,18,18,18,18,18,18,18,18,18,18,1,18,18,1,1],[1,1,18,1,18,1,18,1,1,1,1,1,18,1,18,1,18,1,1],[1,18,18,18,18,1,18,18,18,1,18,18,18,1,18,18,18,18,1],[1,18,1,1,1,1,1,1,18,1,18,1,1,1,1,1,1,18,1],[1,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]]);class l{constructor(t){this.relatedScene=t}create(){const t=o.getNivel();this.tile=this.relatedScene.physics.add.staticGroup();for(let e=0;e<c.array_levels[t].length;e++)for(let a=0;a<c.array_levels[t][0].length;a++){const s=c.array_levels[t][e][a];this.elegir_tilesNiveles(s,t,e,a)}console.log(this.tile)}static check_colision(t,e){const a=o.getNivel();return c.array_levels[a][e][t]<=12}elegir_tilesNiveles(t,e,a,s){const i=o.getScaleGame();t<=12&&this.tile.create(s*o.tileXY.x*i,a*o.tileXY.y*i,"tile-pacman-marron").setScale(o.tileXY.y*i/64)}get(){return this.tile}}class d{constructor(t){this.relatedScene=t}create(t,e){const a=o.getScaleGame();this.jugador=this.relatedScene.physics.add.sprite(t,e,"pacman"),this.jugador.setCircle(Math.floor(o.tileXY.y*a/2),Math.floor(o.tileXY.x/6),Math.floor(o.tileXY.y/6)),this.jugador.setAngle(0),this.jugador.setScale(o.tileXY.y*a/64*.9),this.jugador.setData("intento-giro","right"),this.establecer_velocidad(!0),this.relatedScene.anims.create({key:"le-ri-up-do",frames:this.relatedScene.anims.generateFrameNumbers("pacman",{start:0,end:6}),frameRate:30,yoyo:!0,repeat:-1}),this.relatedScene.anims.create({key:"turn",frames:[{key:"pacman",frame:0}],frameRate:20}),this.jugador.anims.play("le-ri-up-do",!0),this.controles=this.relatedScene.input.keyboard.createCursorKeys(),console.log(this.jugador)}update(){if(!this.jugador.body.enable||o.isPausaComeFantasma()||o.isNivelSuperado())return;const t=o.pacman.direccion;Object.keys(t).forEach((t=>{this.controles[t].isDown&&this.jugador.setData("intento-giro",t)}));const e=o.pacman.direccion[this.jugador.getData("intento-giro")][3];this.jugador.body.touching[e]||this.establecer_velocidad(!1),console.log(o.pacman.arrayAcumDir.length)}establecer_velocidad(t){const e=o.pacman.direccion;this.jugador.setData("direccion",this.jugador.getData("intento-giro")),this.jugador.setAngle(e[this.jugador.getData("direccion")][2]),o.pacman.arrayAcumDir.unshift(this.jugador.getData("direccion")),t||this.arrayNoMore50();const a=e[this.jugador.getData("direccion")][0]*o.pacman.velocity,s=e[this.jugador.getData("direccion")][1]*o.pacman.velocity;this.jugador.setVelocityX(a),this.jugador.setVelocityY(s)}arrayNoMore50(){const t=o.pacman.maxArrayAcumDir;if(o.pacman.arrayAcumDir.length>t+2){const e=o.pacman.arrayAcumDir.length-t;o.pacman.arrayAcumDir.splice(t,e)}}get(){return this.jugador}}function h(t,e){if(console.log("colision"),console.log(t.body.touching.up,t.body.touching.right,t.body.touching.down,t.body.touching.left),0===t.body.velocity.x&&0===t.body.velocity.y){const e=o.pacman.direccion,a=o.pacman.arrayAcumDir;for(let s=0;s<a.length;s++){const i=e[a[s]][0]*o.pacman.velocity,r=e[a[s]][1]*o.pacman.velocity;t.body.touching[a[s]]||(t.setAngle(e[a[s]][2]),t.setVelocityX(i),t.setVelocityY(r))}}}function g(t,e,a){t.volume=a,t.loop=e,t.play()}class u{constructor(t,e){this.relatedScene=t,this.args=e}create(){o.audio.numKey=this.relatedScene.sound.add("numkey");const{left:t,top:e,id:a,scX:s,scY:r,angle:n,originX:c,originY:l,texto:d,nextScene:h}=this.args;this.boton=this.relatedScene.add.sprite(t,e,a).setInteractive(),this.boton.setScale(s,r).setAngle(1).setDepth(o.depth.botones),this.txt=new i(this.relatedScene,{x:t,y:e,txt:d,size:24,color:"#ff1",style:"bold",stroke:"#1bd",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:!1,dura:0}),this.txt.create(),this.txt.get().setDepth(o.depth.botonesTxt).setAlpha(1).setScale(1),this.boton.on("pointerover",(()=>{this.boton.setScale(s+.04,r+.04)})),this.boton.on("pointerout",(()=>{this.boton.setScale(s,r)})),this.boton.on("pointerdown",(t=>{g(o.audio.numKey,!1,.8),this.relatedScene.scene.start(h)})),this.relatedScene.tweens.add({targets:[this.boton,this.txt.get()],angle:359,ease:"Elastic",yoyo:!0,hold:3e3,duration:2e3,repeat:-1})}get(){return this.boton}}class m{constructor(t,e){this.relatedScene=t,this.args=e}create(){const{x:t,y:e,id:a,orX:s,orY:i,scX:r,scY:n,ang:c}=this.args;this.boton=this.relatedScene.add.image(t,e,a).setInteractive(),this.boton.setOrigin(s,i).setScale(r,n),this.boton.setAngle(c).setFrame(0).setDepth(o.depth.botones),this.boton.setX(t).setY(e),this.boton.on("pointerover",(()=>{this.boton.setScale(r+.1,n+.1)})),this.boton.on("pointerout",(()=>{this.boton.setScale(r,n)})),this.boton.on("pointerdown",(()=>{this.relatedScene.scale.isFullscreen?this.relatedScene.scale.stopFullscreen():this.relatedScene.scale.startFullscreen()}))}}class p extends a.Scene{constructor(){super("Game")}init(){o.setGameOver(!1),this.set_pausaInicial(4200),this.laberinto=new l(this),this.jugador=new d(this),this.instanciar_marcadores()}preload(){}create(){this.add.image(0,0,"fondo-pacman").setScale(1.48,1.68).setDepth(o.depth.fondo).setOrigin(0,0),this.set_sonidos(),this.set_cameras_marcadores(),this.laberinto.create(),this.jugador.create(o.pacman.iniX*o.tileXY.x,o.pacman.iniY*o.tileXY.y),this.marcadorPtos.create(),this.marcadorNivel.create(),this.marcadorHi.create(),this.botonfullscreen.create(),this.hideMobileControls(),this.set_colliders()}update(){if(!o.isFps60()){if(o.isAllowUpdate())return void o.setAllowUpdate(!1);o.setAllowUpdate(!0)}o.isPausaInicial()||o.isGameOver()||this.jugador.update()}set_pausaInicial(t){o.setPausaInicial(!0),this.txtpreparado=new i(this,{x:Math.floor(this.sys.game.config.width/2),y:0,txt:"Ready!",size:78,color:"#ffa",style:"bold",stroke:"#fa1",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:Math.floor(this.sys.game.config.height/2),dura:2800}),this.txtpreparado.create(),this.txtpreparado.get().setDepth(o.depth.textos),this.add.timeline([{at:t,run:()=>{o.setPausaInicial(!1),this.txtpreparado.get().setVisible(!1),this.set_txtGo()}}]).play(),console.log(this.txtpreparado)}set_txtGo(){const t=new i(this,{x:Math.floor(this.sys.game.config.width/2),y:Math.floor(this.sys.game.config.height/2),txt:" Go! ",size:90,color:"#ffa",style:"bold",stroke:"#cb1",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:!1,dura:0});t.create(),t.get().setDepth(o.depth.textos),this.tweens.add({targets:t.get(),alpha:0,duration:2200})}texto_enhorabuena(){this.txtcongrats=new i(this,{x:Math.floor(this.sys.game.config.width/2),y:0,txt:" Congratulations! ",size:70,color:"#ffa",style:"bold",stroke:"#5f1",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:this.jugador.get().y-o.tileXY.y,dura:3500}),this.txtcongrats.create(),this.txtcongrats.get().setDepth(o.depth.textos),this.tweens.add({targets:this.txtcongrats.get(),alpha:0,duration:o.pausas.txtCongrats.duracion})}set_colliders(){this.physics.add.collider(this.jugador.get(),this.laberinto.get(),h,null,this)}hideMobileControls(){console.log(o.controlElegido),o.controlElegido.mobile}set_cameras(){this.cameras.main.setBounds(0,-Math.floor(o.tileXY.y/2),Math.floor(this.sys.game.config.width*o.screen.escBoundsX),Math.floor(this.sys.game.config.height*o.screen.escBoundsY+Math.floor(o.tileXY.y/2))),this.physics.world.setBounds(0,-Math.floor(o.tileXY.y/2),Math.floor(this.sys.game.config.width*o.screen.escBoundsX),Math.floor(this.sys.game.config.height*o.screen.escBoundsY+Math.floor(o.tileXY.y/2)))}set_cameras_controles(){var{x:t,y:e,ancho:a,alto:s,scrollX:i,scrollY:r}=o.getCameraControles();this.mapa_controles=this.cameras.add(t,e,a,s).setZoom(.9).setName("view-controls").setAlpha(1).setOrigin(0,0),this.mapa_controles.scrollX=i,this.mapa_controles.scrollY=r}set_cameras_marcadores(){var{x:t,y:e,ancho:a,alto:s,scrollX:i,scrollY:r}=o.getCameraScores();this.mapa_scores=this.cameras.add(t,e,a,s).setZoom(.6).setName("view-scores").setAlpha(1).setOrigin(0,0),this.mapa_scores.scrollX=i,this.mapa_scores.scrollY=r}instanciar_marcadores(){const t=this.sys.game.config.width;this.sys.game.config.height;this.marcadorPtos=new n(this,{x:10,y:-99,size:40,txt:o.getTxtScore(),color:"#fff",strokeColor:"#af1",id:0}),this.marcadorNivel=new n(this,{x:Math.floor(t/2),y:-99,size:40,txt:" Level: ",color:"#ff5",strokeColor:"#16d",id:1}),this.marcadorHi=new n(this,{x:Math.floor(t/1.2),y:-99,size:40,txt:" Record: ",color:"#fff",strokeColor:"#af1",id:2}),this.botonfullscreen=new m(this,{x:Math.floor(1.3*t),y:-92,id:"boton-fullscreen",orX:0,orY:0,scX:1.2,scY:.8,ang:0})}set_sonidos(){this.sonido_preparado=this.sound.add("pacman-inicio-nivel"),g(this.sonido_preparado,!1,.7),this.sonido_youWin=this.sound.add("you-win"),this.sonido_key=this.sound.add("key"),this.sonido_numkey=this.sound.add("numkey")}}class f{constructor(t,e){this.relatedScene=t,this.args=e}create(){const{left:t,top:e,addLeft:a,orX:s,orY:r,frame:n,scale:c,txtSize:l,texto:d,id:h}=this.args;this.radiobutton=this.relatedScene.add.sprite(t,e,"radio-buttons").setInteractive(),this.radiobutton.setOrigin(s,r).setScale(c).setDepth(o.depth.textos).setFrame(n),this.radiobutton.setData("id",h),this.txt=new i(this.relatedScene,{x:t+60+a,y:e,txt:d,size:l,color:"#ffa",style:"bold",stroke:"#fa1",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111",bool1:!1,bool2:!0,origin:[s,r],elastic:!1,dura:0}),this.txt.create(),this.radiobutton.on("pointerover",(()=>{this.txt.get().setScale(c+.1),this.radiobutton.setScale(c+.1)})),this.radiobutton.on("pointerout",(()=>{this.txt.get().setScale(c),this.radiobutton.setScale(c)})),this.radiobutton.on("pointerdown",(t=>{h.includes("FPS")?this.relatedScene.radioFps.forEach((t=>t.get().setFrame(0))):this.relatedScene.radiobuttons.forEach((t=>t.get().setFrame(0))),this.radiobutton.setFrame(1),h.includes("FPS")?o.isFps60()?o.setFps60(!1):o.setFps60(!0):(Object.keys(o.controlElegido).forEach((t=>{o.controlElegido[t]=!1})),o.controlElegido[this.radiobutton.getData("id")]=!0,console.log(o.controlElegido.mobile,o.controlElegido.keyboard)),console.log(o.isFps60())}))}get(){return this.radiobutton}}class y extends a.Scene{constructor(){super("PreGame")}init(){o.setPuntos(0),o.setNivel(1),o.setVidas(3),o.setGameOver(!1),o.setNivelSuperado(!1),o.controlElegido.mobile=!1,o.controlElegido.keyboard=!0,this.botoninicio=new u(this,{left:Math.floor(this.sys.game.config.width/2),top:Math.floor(this.sys.game.config.height/1.3),id:"boton-nueva-partida",scX:.6,scY:.5,angle:1,originX:.5,originY:.5,texto:" Start ",nextScene:"Game"}),this.radiobuttons=[],this.radiobuttons.push(new f(this,{left:Math.floor(this.sys.game.config.width/15),top:Math.floor(this.sys.game.config.height/6),addLeft:0,orX:0,orY:.5,frame:1,scale:1,txtSize:50,texto:" Keyboard cursors ",id:"keyboard"})),this.radiobuttons.push(new f(this,{left:Math.floor(this.sys.game.config.width/15),top:Math.floor(this.sys.game.config.height/3.2),addLeft:0,orX:0,orY:.5,frame:0,scale:1,txtSize:50,texto:" Mobile controls ",id:"mobile"})),this.radioFps=[],this.radioFps.push(new f(this,{left:Math.floor(this.sys.game.config.width/10),top:Math.floor(this.sys.game.config.height/1.8),addLeft:52,orX:.5,orY:.5,frame:0,scale:.9,txtSize:40,texto:"30FPS",id:"30FPS"})),this.radioFps.push(new f(this,{left:Math.floor(this.sys.game.config.width/1.6),top:Math.floor(this.sys.game.config.height/1.8),addLeft:52,orX:.5,orY:.5,frame:1,scale:.9,txtSize:40,texto:"60 FPS",id:"60FPS"}))}create(){this.add.image(0,0,"fondo-pacman").setDepth(o.depth.fondo).setOrigin(0,0),this.radiobuttons.forEach((t=>t.create())),this.radioFps.forEach((t=>t.create())),this.botoninicio.create("Game",!1)}}class b extends a.Scene{constructor(){super("MainMenu")}init(){this.intermision=this.sound.add("pacman-intermision"),this.botoninicio=new u(this,{left:Math.floor(this.sys.game.config.width/2),top:Math.floor(this.sys.game.config.height/1.3),id:"boton-nueva-partida",scX:.6,scY:.5,angle:1,originX:.5,originY:.5,texto:" New Game ",nextScene:"PreGame"}),this.txt=new i(this,{x:Math.floor(this.sys.game.config.width/2),y:0,txt:" PacClon ",size:120,color:"#ffa",style:"bold",stroke:"#fa1",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:Math.floor(this.sys.game.config.height/4),dura:3e3})}preload(){}create(){this.add.image(0,0,"fondo-pacman").setOrigin(0,0).setDepth(o.depth.fondo),this.txt.create(),this.add.text(Math.floor(this.sys.game.config.width/3.6),Math.floor(this.sys.game.config.height/1.04),"Based on classic arcade game Pacman of 1980",{fontSize:"16px",color:"#9ff",align:"justify",fontFamily:"Arial"}),this.add.timeline([{at:1800,run:()=>{this.botoninicio.create("PreGame",!1)}}]).play(),g(this.intermision,!1,.6),console.log(this.txt)}update(){}}class x extends a.Scene{constructor(){super("Preloader")}init(){const t=this.sys.game.config.width,e=this.sys.game.config.height;this.load.image("fondo","assets/img/bg.png"),this.add.image(0,0,"fondo").setOrigin(0,0),this.txt=new i(this,{x:Math.floor(t/2),y:Math.floor(e/3.5),txt:" Loading...",size:55,color:"#ffa",style:"bold",stroke:"#f91",sizeStroke:16,shadowOsx:2,shadowOsy:2,shadowColor:"#111",bool1:!1,bool2:!0,origin:[.5,.5],elastic:!1,dura:0}),this.txt.create(),this.add.rectangle(Math.floor(t/2),Math.floor(e/2),Math.floor(t/1.5),Math.floor(e/12)).setStrokeStyle(1,16772744);const a=this.add.rectangle(Math.floor(t/2)-Math.floor(t/3)+4,Math.floor(e/2),4,Math.floor(e/14),16750865);this.load.on("progress",(e=>{a.width=Math.floor(t/1.52)*e}))}preload(){this.load.setPath("assets"),this.load.image("fondo-pacman","./img/fondo_pacmanPh.png"),this.load.image("boton-nueva-partida","./img/ui-newgame.png"),this.load.image("boton-fire-joystick","./img/ui-1.png"),this.load.spritesheet("radio-buttons","./img/radio-buttons-ssheet.png",{frameWidth:50,frameHeight:50}),this.load.spritesheet("boton-fullscreen","./img/boton-fullscreen.png",{frameWidth:64,frameHeight:64}),this.load.image("particula1","./img/particula1.png"),this.load.spritesheet("laberinto-1","./img/atlas-pacman.png",{frameWidth:228,frameHeight:248}),this.load.spritesheet("tile-map-ssheet","./img/tilemap-pacman.png",{frameWidth:16,frameHeight:16}),this.load.image("tile-pacman-marron","./img/tile_pacmanMarron.png"),this.load.spritesheet("pacman","./img/pac-animasPh.png",{frameWidth:64,frameHeight:64}),this.load.audio("gameover-retro","./audio/gameoveretro.ogg"),this.load.audio("you-win","./audio/you-win.mp3"),this.load.audio("key","./audio/key.wav"),this.load.audio("numkey","./audio/numkey.wav"),this.load.audio("pacman-azules","./audio/pacmanazules.ogg"),this.load.audio("pacman-dies","./audio/pacmandies.ogg"),this.load.audio("pacman-eating-cherry","./audio/pacmaneatingcherry.mp3"),this.load.audio("pacman-eating-ghost","./audio/pacmaneatinghost.ogg"),this.load.audio("pacman-inicio-nivel","./audio/pacmaninicionivel.ogg"),this.load.audio("pacman-intermision","./audio/pacmanintermision.ogg"),this.load.audio("pacman-sirena","./audio/pacmansirena.ogg"),this.load.audio("pacman-waka","./audio/pacmanwakawaka.mp3")}create(){this.scene.start("MainMenu")}}const S={type:Phaser.AUTO,width:864,height:704,parent:"game-container",backgroundColor:"#870",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{debug:!1}},scene:[r,x,b,y,p]};new Phaser.Game(S);
